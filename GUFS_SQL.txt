-- SET commands and Formatting
SET LINESIZE 500
SET FEEDBACK ON
SET NUMWIDTH 6
SET TIMING ON
COLUMN EMAIL FORMAT A30

-- Creating Tables

/*
-- Account 1
drop table Account cascade constraints;
create table Account
(account_ID varchar2(10) NOT NULL,
registration_ID varchar2(10) NOT NULL,
fName varchar2(20) NOT NULL,
lName varchar2(40) NOT NULL,
email varchar2(320) NOT NULL,
cell_Num char(12) NULL,
logon_ID varchar2(20) NOT NULL,
password varchar2(20) NOT NULL,
create_Date DATE NOT NULL,
account_Type char(1) NOT NULL,
--constraint account_Type check(account_Type IN (P,B)),
constraint account_pk primary key (account_ID));
*/

-- Account 1
drop table Account cascade constraints;
create table Account
(account_ID varchar2(10) NOT NULL,
registration_ID varchar2(10) NOT NULL,
fName varchar2(20) NOT NULL,
lName varchar2(40) NOT NULL,
email varchar2(320) NOT NULL,
cell_Num char(12) NULL,
logon_ID varchar2(20) NOT NULL,
password varchar2(20) NOT NULL,
create_Date DATE NOT NULL,
account_Type char(1) NOT NULL,
constraint account_Type check(account_Type IN ('P','B')),
constraint account_pk primary key (account_ID));

-- Item 2
drop table item cascade constraints;
create table item
(item_ID varchar2(10) not null,
sku char(8) not null,
name varchar2(40) not null,
price number(12,2) not null,
item_desc varchar2(100) null,
category varchar2(10) null,
stock number(5) not null,
item_star number(1) null,
itme_sizes varchar2(5) null,
color varchar2(10) null,
constraint item_pk primary key (item_id));


-- CARD 3
drop table CARD cascade constraints;
create table CARD
(card_number VARCHAR2(16) not null,
cc_name VARCHAR2(40) not null,
pin CHAR(4) not null,
b_street VARCHAR2(40),
b_sity VARCHAR2(20),
b_state CHAR(2),
b_zip CHAR(10),
constraint Card_PK primary Key (Card_Number));



-- Customer_Order 4
drop table Customer_Order cascade constraints;
create table Customer_Order
(order_ID varchar2(10) NOT NULL,
account_ID varchar2(10) NOT NULL,
s_street varchar2(40) NULL,
s_City varchar2(20) NULL,
s_State CHAR(2) NOT NULL,
s_Zip CHAR(10) NULL,
order_date DATE NULL,
receiver_name varchar2(40) NOT NULL,
delivery_date DATE NULL,
dispatch_date DATE NULL,
constraint Customer_Order_pk primary key (order_ID),
constraint account_order foreign key (account_ID) references Account);


-- Order_Item 5
drop table Order_Item cascade constraints;
create table Order_Item
(order_ID varchar2(10) NOT NULL,
order_item_ID varchar2(10) NOT NULL,
item_ID varchar2(10) NOT NULL,
discounted_price number(12,2) NOT NULL,
quantity number(20) NOT NULL,
constraint order_item_pk primary key (order_ID, order_item_ID),
constraint order_id foreign key (order_ID) references Customer_Order,
constraint item_id foreign key (item_ID) references Item);

-- ORDER_STATUS 6
drop table ORDER_STATUS cascade constraints;
create table ORDER_STATUS
(status_Order_ID VARCHAR2(10) not null,
status varchar2(40) null,
status_Timestamp varchar2(20) null,
constraint Status_PK primary key (Status_Order_ID, Status_Timestamp),
constraint STATUS_fk_Order foreign key (status_order_ID) references Customer_Order(order_ID)
);



-- Payment 7
drop table Payment cascade constraints;
create table Payment
(payment_id varchar2(10) NOT NULL,
order_id varchar2(10) NOT NULL,
payment_date DATE NULL,
total_amount NUMBER(12,2) NULL,
card_n varchar2(16) NULL,
constraint Payment_pk primary key (payment_id),
constraint Payment_fk_CARDNUM foreign key (card_n) references Card(card_number),
constraint Payment_fk_Customer_Order foreign key (order_id) references Customer_Order(order_id));





-- Return 8
drop table Return cascade constraints;
create table Return
(return_ID varchar2(10) NOT NULL,
refund_amount number(12,2) NOT NULL,
return_date date NOT NULL,
order_ID varchar2(10) NOT NULL,
card_n varchar2(16) NOT NULL,
constraint return_pk primary key (return_ID),
constraint return_order foreign key (order_ID) references Customer_Order,
constraint c_card foreign key (card_n) references Card);



/*
-- Order_Item 5
drop table Order_Item cascade constraints;
create table Order_Item
(order_ID varchar2(10) NOT NULL,
order_item_ID varchar2(10) NOT NULL,
item_ID varchar2(10) NOT NULL,
discounted_price number(12,2) NOT NULL,
quantity number(20) NOT NULL,
constraint order_item_pk primary key (order_ID, order_item_ID),
constraint order_id foreign key (order_ID) references Customer_Order,
constraint item_id foreign key (item_ID) references Item);
*/

/*
-- Return_line_item 9
drop table Return_line_item cascade constraints;
create table Return_line_item
(return_ID varchar2(10) NOT NULL,
return_item_ID varchar2(10) NOT NULL,
quantity NUMBER(20) NOT NULL,
order_item varchar2(10) NOT NULL,
constraint Return_line_item_pk primary key (return_ID, return_item_ID),
constraint Return_line_item_fk_RETURN foreign key (return_ID) references Return(return_ID),
constraint Return_line_item_fk_ORDER_ITEM foreign key (order_item) references Order_item (order_item_ID)
);
*/

----
-- Return_line_item 9
drop table Return_line_item cascade constraints;
create table Return_line_item
(return_ID varchar2(10) NOT NULL,
return_item_ID varchar2(10) NOT NULL,
quantity NUMBER(20) NOT NULL,
order_item varchar2(10) NOT NULL,
order_ID varchar2(10) NOT NULL,
constraint Return_line_item_pk primary key (return_ID, return_item_ID),
constraint Return_line_item_fk_RETURN foreign key (return_ID) references Return(return_ID),
constraint Return_line_fk_id_ITEM foreign key (order_ID,order_item) references Order_Item(order_ID, order_item_ID)
);




-- Review 10
drop table Review cascade constraints;
create table Review
(review_ID varchar2(10) NOT NULL,
r_star number(1) NOT NULL,
comments varchar2(255),
reviewDate date NOT NULL,
useful_flag number(1),
num_of_words number(3),
review_account varchar(10) NOT NULL,
review_item varchar(10) NOT NULL,
constraint useful_flag check(useful_flag IN (1,0)),
constraint review_pk primary key (review_ID),
constraint r_account foreign key (review_account) references Account,
constraint r_item foreign key (review_item) references Item);



-- Save_For_Later 11
drop table Save_For_Later cascade constraints;
create table Save_For_Later
(sfl_account_ID varchar2(10) NOT NULL,
sfl_ID varchar2(10) NOT NULL,
sfl_item_ID varchar2(10) NOT NULL,
save_Date DATE NOT NULL,
constraint Save_For_Later_pk primary key (sfl_account_ID, sfl_ID),
constraint Save_For_Later_fk_ACCOUNT foreign key (sfl_account_ID) references Account(account_ID),
constraint Save_For_Later_fk_ITEM foreign key (sfl_item_ID) references Item(item_ID));



-- INSERTS


-- Account
INSERT INTO ACCOUNT VALUES ('1234567890', '1234567899', 'Brian', 'Kong', 'Bk555@drexel.edu', '023-123-1234', 'bk555', 'bk123', '20-NOV-2020', 'B');

INSERT INTO ACCOUNT VALUES ('2298387651', '4500078457', 'Mariachiara', 'Acconcia', 'ma3768@drexel.edu', '393456890098', 'mariachiara3768accon', '678545fggfkty566bvgg', '05-DEC-2020', 'P');

INSERT INTO ACCOUNT VALUES ('7184545773', '7186729830', 'Tony', 'Stark', 'tony.stark@avenger.com', '232-534-8732', 'tstark15', 'lkjhgfdsa', '26-APRIL-2019', 'P');

INSERT INTO ACCOUNT VALUES ('1000', '2000', 'Super', 'Man', 'superman@gmail.com', '212-683-2039', 'superbro', 'super1234', '1-Jan-2019', 'P');


-- Item

INSERT INTO item VALUES ('4983783429', '72290323', 'T-shirt', '100', 'Plain T-Shirt with Supreme Logo on it.', 'Tshirts', '30', '4.8', 'M', 'Black'); 

INSERT INTO ITEM VALUES ('0000000321', '12121212', 'Best Socks', '30.50', 'Low Quality Socks. Made with cheap materials.', 'Socks', '300', '5', 'M', 'Blue');


INSERT INTO Item VALUES ('2123987345', '00017465', 'Womens Jeans', '99.99', 'Women''s blue high-waist skinny jeans', 'Jeans', '23', '4', 'M', 'Blue');

INSERT INTO ITEM VALUES ('1000', '00000012', 'Superman pants', 599.99, 'Superman''s blue pants', 'Costume', 10, 5, 'M', 'Blue');




-- Card


INSERT INTO card VALUES ('9034029487348930', 'Tony Stark', '782', '6111 5th avenue', 'New York City', 'NY', '10001');

INSERT INTO CARD VALUES ('1234432198766789', 'Visa', '4321', '2100 Walnut St', 'Philadelphia', 'PA', '19103');

INSERT INTO Card VALUES ('0091002341', 'Mariachiara Acconcia', '1299', 'Pompeo Neri street', 'Philadelphia', 'PA', '19104');

INSERT INTO Card VALUES ('1234123412341234', 'Richard Hong', '1234', 'Super street', 'Philadelphia', 'PA', '19099');



-- Customer_Order

INSERT INTO CUSTOMER_ORDER VALUES ('0000000002', '1234567890', '2100 Walnut St', 'Philadelphia', 'PA', '19103', '21-NOV-2020', 'Brian', '22-NOV-2020', '21-NOV-2020');

INSERT INTO CUSTOMER_ORDER VALUES ('6141876715', '2298387651', 'Pompeo Neri street', 'Philadelphia', 'PA', '19104', '05-DEC-2020', 'Mary Acconcia', '12-DEC-2020', '05-DEC-2020');

INSERT INTO customer_order VALUES ('342354465', '7184545773', '6111 5th avenue', 'New York City', 'NY', '10001', '21-June-2019', 'Tony Stark', '26-June-2019', '23-June-2019');

INSERT INTO customer_order VALUES ('001', '1000', 'Super street', 'Philadelphia', 'PA', '19099', '16-JAN-2020', 'Clark', '25-JAN-2020', '18-JAN-2020');


-- Order_Item

INSERT INTO Order_Item VALUES ('342354465', '9297426093', '4983783429', '80', '3');

INSERT INTO ORDER_ITEM VALUES ('0000000002', '0000012345', '0000000321', '0', '1');

INSERT INTO Order_Item VALUES ('6141876715', '9835472111', '2123987345', '89.99', '2');

INSERT INTO Order_Item VALUES ('001', '333', '1000', '499.99', '1');






-- Order_Status

INSERT INTO ORDER_STATUS VALUES ('342354465', 'Delivered', '26-June-2019 11:02');

INSERT INTO ORDER_STATUS VALUES ('0000000002', 'Delivered', '25-NOV-2020 12:14:07');

INSERT INTO Order_Status VALUES ('6141876715', 'Shipped', '06-MAY-2020');

INSERT INTO Order_Status VALUES ('001', 'Delivered', '25-JAN-2020 10:53:21');


-- Payment

INSERT INTO Payment VALUES ('9308648390', '342354465', '22-June-2019', '240.00', '9034029487348930');

INSERT INTO PAYMENT VALUES ('1000000398', '0000000002', '22-NOV-2020', '30.50', '1234432198766789');

INSERT INTO Payment VALUES ('9827333344', '6141876715', '05-MAY-2020', '179.98', '0091002341');

INSERT INTO Payment VALUES ('3333', '001', '16-JAN-2020', '499.99', '1234123412341234');




-- Return

INSERT INTO Return VALUES ('9028394029', '30', '30-June-2019', '342354465', '9034029487348930');

INSERT INTO Return VALUES ('0928723615', '30.50', '03-DEC-2020', '0000000002', '1234432198766789');

INSERT INTO Return VALUES ('1111983344', '80', '09-MAY-2020', '6141876715', '0091002341');

INSERT INTO Return VALUES ('8888', '399.99', '10-FEB-2020', '001', '1234123412341234');







-- Return_Line_Item

INSERT INTO Return_line_item VALUES ('9028394029','6384729375',  '1', '9297426093','342354465');

INSERT INTO RETURN_LINE_ITEM VALUES ('0928723615','0890236511',  '1', '0000012345','0000000002');

INSERT INTO Return_line_item VALUES ('1111983344', '0027286993',  '1', '9835472111', '6141876715');

INSERT INTO Return_line_item VALUES ('8888', '1234', '1', '333', '001');








-- Review

INSERT INTO Review VALUES ('8930290349', '4', 'T-shirt is amazing, shrinked a little bit but it still fits perfectly. Just going to resell', '27-June-2019', '0', '16', '7184545773', '4983783429');

INSERT INTO REVIEW VALUES ('0000000023', '3', 'Not Bad', '02-SEP-2020', '0', '2', '1234567890', '0000000321');

INSERT INTO Review VALUES ('7799262181', '4', 'Good product for the given price', '07-MAY-2020', '0', '6', '2298387651', '2123987345');

INSERT INTO Review VALUES ('123123', '5', 'Super superman pants', '07-feb-2020', '0', '3', '1000', '1000');





-- Save_For_Later 11
drop table Save_For_Later cascade constraints;
create table Save_For_Later
(sfl_account_ID varchar2(10) NOT NULL,
sfl_ID varchar2(10) NOT NULL,
sfl_item_ID varchar2(10) NOT NULL,
save_Date DATE NOT NULL,
constraint Save_For_Later_pk primary key (sfl_account_ID, sfl_ID),
constraint Save_For_Later_fk_ACCOUNT foreign key (sfl_account_ID) references Account(account_ID),
constraint Save_For_Later_fk_ITEM foreign key (sfl_item_ID) references Item(item_ID));


-- Save_For_Later
INSERT INTO save_for_later VALUES ('7184545773', '987345623', '4983783429', '10-MAY-2020'); 

INSERT INTO Save_For_Later VALUES ('2298387651', '9936475125', '2123987345','23-MAY-2020');

INSERT INTO Save_For_Later VALUES ('1000', '202020', '4983783429', '30-MAY-2020');



























